# XiaoHangä¸ªäººåšå®¢

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäºç°ä»£WebæŠ€æœ¯æ ˆå¼€å‘çš„ä¸ªäººåšå®¢ç³»ç»Ÿï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ã€‚æœ¬é¡¹ç›®ä¸ä»…æ˜¯ä¸€ä¸ªåšå®¢å¹³å°ï¼Œæ›´æ˜¯ä¸€æ¬¡æŠ€æœ¯å®è·µå’Œå­¦ä¹ çš„è¿‡ç¨‹ã€‚

## é¡¹ç›®ç›®æ ‡

1. **æŠ€æœ¯å®è·µ**

   - æ·±å…¥å­¦ä¹  Next.jsæ–°ç‰¹æ€§
   - å®è·µå‰åç«¯åˆ†ç¦»æ¶æ„
   - æå‡å…¨æ ˆå¼€å‘èƒ½åŠ›

2. **å†…å®¹å¹³å°**
   - æ„å»ºä¸ªäººçŸ¥è¯†ç®¡ç†ç³»ç»Ÿ
   - æ²‰æ·€æŠ€æœ¯åšæ–‡
   - åˆ†äº«å­¦ä¹ å¿ƒå¾—

## æ ¸å¿ƒåŠŸèƒ½

- ğŸ“ æ–‡ç« ç®¡ç†ï¼šå‘å¸ƒã€ç¼–è¾‘ã€åˆ é™¤
- ğŸ·ï¸ åˆ†ç±»ç®¡ç†ï¼šå¤šç»´åº¦æ–‡ç« å½’ç±»
- ğŸ” æœç´¢åŠŸèƒ½ï¼šå…¨æ–‡æ£€ç´¢
- ğŸ“Š æ–‡ç« å½’çº³ï¼šä¸ªäººæ–‡ç« æ—¶é—´çº¿
- ğŸ¨ ä¸»é¢˜åˆ‡æ¢ï¼šæ˜æš—æ¨¡å¼æ”¯æŒ

## æŠ€æœ¯æ¶æ„

### å‰ç«¯ï¼ˆåšå®¢ï¼‰

- **æ¡†æ¶**: Next.js
- **UIç»„ä»¶**: NextUI
- **æ ·å¼æ–¹æ¡ˆ**: TailwindCSS
- **çŠ¶æ€ç®¡ç†**: Jotai
- **ç¼–è¾‘å™¨**: Cursor

### ç®¡ç†åå°

- **æ¡†æ¶**: Vue 3
- **æ„å»ºå·¥å…·**: Vite
- **çŠ¶æ€ç®¡ç†**: Pinia
- **UIç»„ä»¶**: Element Plus

### æœåŠ¡ç«¯

- **æ¡†æ¶**: Nest.js
- **è¯­è¨€**: TypeScript
- **ORM**: TypeORM
- **æ•°æ®åº“**: MySQL

## åœ¨çº¿é¢„è§ˆ

- åšå®¢å‰å°ï¼š[https://www.wanyue.me](https://www.wanyue.me)
- åšå®¢è¿ç»´ï¼š[https://wanyue.me/admin](https://wanyue.me/admin)
- Apiæ–‡æ¡£ï¼š[https://wanyue.me/api/api-doc](https://wanyue.me/api/api-doc)

## æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build
```

## å¼€å‘è®¡åˆ’

### è¿‘æœŸè®¡åˆ’

- [ ] SEOå…¨æ–‡æœç´¢
- [ ] ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ˆOAuth é›†æˆï¼‰
- [x] è¯„è®ºäº’åŠ¨åŠŸèƒ½

### é•¿æœŸè§„åˆ’

- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] SEOå®Œå–„
- [ ] å›½é™…åŒ–æ”¯æŒ

## ç‰ˆæœ¬å‘å¸ƒæµç¨‹

### ç‰ˆæœ¬å·è¯´æ˜ (SemVer)

æˆ‘ä»¬ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ï¼ˆ[SemVer](https://semver.org/lang/zh-CN/)ï¼‰è¿›è¡Œç‰ˆæœ¬ç®¡ç†ã€‚ç‰ˆæœ¬å·æ ¼å¼ï¼š`ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·`ï¼Œä¾‹å¦‚ï¼š`1.2.3`

- **ä¸»ç‰ˆæœ¬å·(Major)**ï¼šå½“è¿›è¡Œä¸å…¼å®¹çš„ API ä¿®æ”¹æ—¶ï¼Œå¦‚ï¼š

  - åˆ é™¤æˆ–é‡å‘½åå·²å­˜åœ¨çš„API
  - ä¿®æ”¹ç°æœ‰åŠŸèƒ½çš„è¡Œä¸ºæ–¹å¼
  - é‡å¤§é‡æ„æˆ–æ¶æ„è°ƒæ•´

  ```bash
  npm run release:major # 1.2.3 -> 2.0.0
  ```

- **æ¬¡ç‰ˆæœ¬å·(Minor)**ï¼šå½“æ·»åŠ å‘ä¸‹å…¼å®¹çš„æ–°åŠŸèƒ½æ—¶ï¼Œå¦‚ï¼š

  - æ–°å¢åŠŸèƒ½æ¨¡å—
  - æ–°å¢APIä½†ä¿æŒå‘ä¸‹å…¼å®¹
  - æ ‡è®°æŸäº›åŠŸèƒ½ä¸ºå¼ƒç”¨

  ```bash
  npm run release:minor # 1.2.3 -> 1.3.0
  ```

- **ä¿®è®¢å·(Patch)**ï¼šå½“è¿›è¡Œå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®å¤æ—¶ï¼Œå¦‚ï¼š
  - Bugä¿®å¤
  - æ€§èƒ½ä¼˜åŒ–
  - æ–‡æ¡£æ›´æ–°
  ```bash
  npm run release:patch # 1.2.3 -> 1.2.4
  ```

### å‘å¸ƒæ­¥éª¤

1. **åˆ›å»ºå‘å¸ƒåˆ†æ”¯**

```bash
# ä»æœ€æ–°çš„mainåˆ†æ”¯åˆ›å»ºå‘å¸ƒåˆ†æ”¯
git checkout -b release/v0.1.0
```

2. **åœ¨å‘å¸ƒåˆ†æ”¯ä¸Šè¿›è¡Œç‰ˆæœ¬å‡çº§**

```bash
# ç¡®ä¿ä»£ç å·²æäº¤
git status
git add .
npm run commit

# æ‰§è¡Œç‰ˆæœ¬å‡çº§
npm run release:minor  # æˆ– major/patch
```

3. **æµ‹è¯•éªŒè¯**

- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
- éªŒè¯ CHANGELOG.md å†…å®¹
- ç¡®è®¤ç‰ˆæœ¬å·æ›´æ–°æ­£ç¡®
- æœ¬åœ°æµ‹è¯•åŠŸèƒ½å®Œæ•´æ€§

4. **åˆå¹¶åˆ° main**

```bash
# åˆ‡å› main åˆ†æ”¯
git checkout main
git pull origin main

# åˆå¹¶å‘å¸ƒåˆ†æ”¯
git merge release/v0.1.0 --no-ff
git push origin main --follow-tags

# å¯é€‰ï¼šåˆ é™¤å‘å¸ƒåˆ†æ”¯
git branch -d release/v0.1.0
git push origin :release/v0.1.0
```

5. **å‘å¸ƒåæ£€æŸ¥**

- ç¡®è®¤ main åˆ†æ”¯çš„ tag å·²æ­£ç¡®æ¨é€
- éªŒè¯ CHANGELOG.md å·²æ›´æ–°åˆ°è¿œç¨‹
- æ£€æŸ¥ package.json ç‰ˆæœ¬å·

### å¼€å‘é˜¶æ®µç‰ˆæœ¬ï¼ˆ0.x.xï¼‰

å½“é¡¹ç›®å¤„äºåˆå§‹å¼€å‘é˜¶æ®µæ—¶ï¼Œç‰ˆæœ¬å·ä»¥ 0 å¼€å¤´ï¼š

- **0.x.x**: è¡¨ç¤ºé¡¹ç›®å¤„äºå¼€å‘é˜¶æ®µï¼ŒAPI ä¸ç¨³å®š
- **0.x.0**: è¡¨ç¤ºåŠŸèƒ½æ€§æ›´æ–°
- **0.0.x**: è¡¨ç¤º bug ä¿®å¤

```bash
# å¼€å‘é˜¶æ®µåŠŸèƒ½æ›´æ–°
pnpm run release:minor # 0.1.0 -> 0.2.0

# å¼€å‘é˜¶æ®µé—®é¢˜ä¿®å¤
npm run release:patch # 0.1.0 -> 0.1.1
```

### é¢„å‘å¸ƒç‰ˆæœ¬

å¯¹äºéœ€è¦æµ‹è¯•çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨é¢„å‘å¸ƒæ ‡è¯†ï¼š

```bash
# ç”Ÿæˆ beta é¢„å‘å¸ƒç‰ˆæœ¬
pnpm run release -- --prerelease beta # 1.2.3 -> 1.2.4-beta.0

# ç”Ÿæˆ rc (Release Candidate) ç‰ˆæœ¬
pnpm run release -- --prerelease rc # 1.2.3 -> 1.2.4-rc.0
```

### ç‰ˆæœ¬å›é€€

å¦‚æœå‘å¸ƒå‡ºç°é—®é¢˜éœ€è¦å›é€€ï¼š

```bash
# 1. ä¿®æ”¹ç‰ˆæœ¬å·
pnpm version 0.1.0 -f --no-git-tag-version

# 2. åˆ é™¤é”™è¯¯çš„ tag
git tag -d v0.2.0
git push origin :refs/tags/v0.2.0

# 3. é‡ç½® CHANGELOG
rm CHANGELOG.md
npx standard-version --release-as 0.1.0 --skip.tag

# 4. æäº¤æ›´æ”¹
git add .
git commit -m "chore: å›é€€åˆ°ç‰ˆæœ¬ 0.1.0"
git push -f
```

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue æˆ– Pull Request æ¥å¸®åŠ©æ”¹è¿›é¡¹ç›®ã€‚
